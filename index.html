<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Formulário de Abertura de MEI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Otimização para mobile -->
    <style>
        /* Estilos básicos para o formulário */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f6f9;
            margin: 0;
            padding: 10px;
        }
        h2 {
            text-align: center;
            color: #333;
            font-size: 2em;
            margin-bottom: 20px;
        }
        .info-importante, .instrucoes-iniciais, .instrucoes-gov {
            max-width: 800px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .info-importante h3, .instrucoes-iniciais h3, .instrucoes-gov h3 {
            color: #007bff;
            margin-bottom: 10px;
        }
        .info-importante ul, .instrucoes-iniciais ul, .instrucoes-gov ul,
        .info-importante ol, .instrucoes-iniciais ol, .instrucoes-gov ol {
            list-style-type: disc;
            padding-left: 20px;
        }
        .info-importante p, .instrucoes-iniciais p, .instrucoes-gov p {
            color: #555;
            line-height: 1.6;
        }
        form {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        label {
            color: #555;
            font-weight: bold;
            display: block;
            margin-top: 20px;
            font-size: 1em;
        }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #007bff;
            outline: none;
        }
        .error {
            color: red;
            font-size: 0.9em;
            margin-top: 5px;
        }
        #enviar {
            background-color: #007bff;
            color: #fff;
            padding: 15px;
            margin-top: 30px;
            width: 100%;
            border: none;
            border-radius: 5px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #enviar:hover {
            background-color: #0056b3;
        }
        /* Links estilizados */
        .link-instrucao {
            color: #007bff;
            text-decoration: none;
            font-size: 0.9em;
            margin-left: 10px;
            cursor: pointer;
        }
        .link-instrucao:hover {
            text-decoration: underline;
        }
        /* Seções ocultas */
        .hidden-section {
            display: none;
            max-width: 800px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        /* Botões para fechar as seções */
        .close-btn {
            background-color: #dc3545;
            color: #fff;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            float: right;
            font-size: 0.9em;
        }
        .close-btn:hover {
            background-color: #c82333;
        }
        /* Elementos gráficos */
        .icon {
            margin-right: 8px;
            color: #007bff;
        }
        /* Responsividade */
        @media (max-width: 600px) {
            body {
                padding: 5px;
            }
            h2 {
                font-size: 1.5em;
            }
            .info-importante h3, .instrucoes-iniciais h3, .instrucoes-gov h3 {
                font-size: 1.2em;
            }
            label {
                font-size: 0.9em;
            }
            input, select, textarea {
                padding: 10px;
                font-size: 0.9em;
            }
            #enviar {
                font-size: 1em;
                padding: 12px;
            }
        }
    </style>
</head>
<body>

<h2>Formulário de Abertura de MEI</h2>

<!-- Novo Link "ANTES DE PREENCHER CLIQUE AQUI" -->
<div style="max-width: 800px; margin: 10px auto; text-align: center;">
    <a href="#info-importante" class="link-instrucao" onclick="toggleSection('info-importante'); return false;" style="font-weight: bold; text-transform: uppercase;">
        ANTES DE PREENCHER CLIQUE AQUI
    </a>
</div>

<!-- Link para Instruções Iniciais -->
<div style="max-width: 800px; margin: 10px auto; text-align: center;">
    <a href="#instrucoes-iniciais" class="link-instrucao" onclick="toggleSection('instrucoes-iniciais'); return false;">
        🎯 O que é o MEI? Clique aqui para entender como funciona
    </a>
</div>

<form id="formulario">

    <!-- Campo Nome Completo -->
    <label for="nome_completo"><span class="icon">📝</span> Nome Completo:</label>
    <input type="text" id="nome_completo" name="nome_completo" placeholder="Digite o seu nome completo" required>

    <!-- Campo Data de Nascimento -->
    <label for="data_nascimento"><span class="icon">📅</span> Data de Nascimento:</label>
    <input type="date" id="data_nascimento" name="data_nascimento" placeholder="Digite a sua data de nascimento" required>

    <!-- Campo RG -->
    <label for="rg"><span class="icon">📄</span> RG:</label>
    <input type="text" id="rg" name="rg" placeholder="Digite o número do RG" required>

    <!-- Campo CPF -->
    <label for="cpf"><span class="icon">🆔</span> CPF:</label>
    <input type="text" id="cpf" name="cpf" placeholder="Digite o CPF" required>
    <div id="cpf-error" class="error"></div>

    <!-- Campo Título de Eleitor -->
    <label for="titulo_eleitor"><span class="icon">📑</span> Título de Eleitor:</label>
    <input type="text" id="titulo_eleitor" name="titulo_eleitor" placeholder="Digite o número do Título de Eleitor" required>

    <!-- Campo CEP -->
    <label for="cep"><span class="icon">🏠</span> CEP:</label>
    <input type="text" id="cep" name="cep" placeholder="Digite o CEP" required>
    <div id="cep-error" class="error"></div>

    <!-- Campos de Endereço, Bairro, Cidade e Estado -->
    <label for="endereco"><span class="icon">📍</span> Endereço:</label>
    <input type="text" id="endereco" name="endereco" placeholder="Endereço" required>

    <label for="bairro"><span class="icon">📍</span> Bairro:</label>
    <input type="text" id="bairro" name="bairro" placeholder="Bairro" required>

    <label for="cidade"><span class="icon">📍</span> Cidade:</label>
    <input type="text" id="cidade" name="cidade" placeholder="Cidade" required>

    <label for="estado"><span class="icon">📍</span> Estado:</label>
    <input type="text" id="estado" name="estado" placeholder="Estado" required>

    <label for="numero"><span class="icon">🏠</span> Número:</label>
    <input type="text" id="numero" name="numero" placeholder="Número da Residência" required>

    <label for="complemento"><span class="icon">📝</span> Complemento:</label>
    <input type="text" id="complemento" name="complemento" placeholder="Complemento">

    <!-- Campo Senha GOV.BR com link para instruções -->
    <label for="senha_gov">
        <span class="icon">🔒</span> Senha de Acesso ao GOV.BR (Nível Prata ou Superior):
        <a href="#instrucoes-gov" class="link-instrucao" onclick="toggleSection('instrucoes-gov'); return false;">Instruções</a>
    </label>
    <input type="password" id="senha_gov" name="senha_gov" placeholder="Digite a senha do GOV.BR" required>

    <label for="email"><span class="icon">📧</span> E-mail:</label>
    <input type="email" id="email" name="email" placeholder="email@exemplo.com" required>

    <label for="celular"><span class="icon">📱</span> Celular:</label>
    <input type="tel" id="celular" name="celular" placeholder="(DDD) 99999-9999" required>

    <label for="recibo_ir"><span class="icon">📄</span> Número do Recibo da Última Declaração de Imposto de Renda, se houver:</label>
    <input type="text" id="recibo_ir" name="recibo_ir" placeholder="Digite o número do recibo">

    <label for="atividade"><span class="icon">💼</span> Atividade a ser Exercida:</label>
    <input type="text" id="atividade" name="atividade" placeholder="Descreva a atividade" required>

    <!-- Campos Opcionais de Atividade -->
    <label for="atividade2"><span class="icon">💼</span> Atividade Opcional 1:</label>
    <input type="text" id="atividade2" name="atividade2" placeholder="Descreva a atividade opcional">

    <label for="atividade3"><span class="icon">💼</span> Atividade Opcional 2:</label>
    <input type="text" id="atividade3" name="atividade3" placeholder="Descreva a atividade opcional">

    <label for="atividade4"><span class="icon">💼</span> Atividade Opcional 3:</label>
    <input type="text" id="atividade4" name="atividade4" placeholder="Descreva a atividade opcional">

    <label for="atividade5"><span class="icon">💼</span> Atividade Opcional 4:</label>
    <input type="text" id="atividade5" name="atividade5" placeholder="Descreva a atividade opcional">

    <button type="button" id="enviar">Enviar via WhatsApp</button>
</form>

<!-- Link adicional para Instruções Iniciais no final da página -->
<div style="max-width: 800px; margin: 20px auto; text-align: center;">
    <a href="#instrucoes-iniciais" class="link-instrucao" onclick="toggleSection('instrucoes-iniciais'); return false;">
        🎯 O que é o MEI? Clique aqui para entender como funciona
    </a>
</div>

<!-- Seções de Instruções Ocultas -->

<!-- Informações Importantes -->
<div id="info-importante" class="hidden-section">
    <button class="close-btn" onclick="toggleSection('info-importante')">Fechar</button>
    <h3>📄 Informações Importantes</h3>
    <p><strong>Você receberá os seguintes documentos:</strong></p>
    <ul>
        <li>Espelho do CNPJ</li>
        <li>Certificado do MEI</li>
        <li>Passo a passo detalhado de como gerar as guias de impostos mensais</li>
        <li>Passo a passo detalhado de como gerar as notas fiscais</li>
    </ul>

    <h3>💰 Honorários</h3>
    <p><strong>Abertura do MEI:</strong> R$ 150,00</p>
    <p><strong>PIX CPF:</strong> 032.358.550-76</p>

    <h3>⏰ Prazo para Finalização</h3>
    <p>Até 48h</p>

    <p>
        Assim que eu concluir e emitir o CNPJ, é provável que você comece a receber e-mails e mensagens de contatos oferecendo serviços como certificados digitais, proteção de nome, registro de marca e marketing. No entanto, quero salientar que pode ignorar todas essas ofertas, pois nada disso é obrigatório. Se tiver dúvidas, sinta-se à vontade para me perguntar. A única despesa que você deve considerar são as guias mensais de impostos; tenha em mente que há vários golpistas que inventam histórias para prejudicar os Microempreendedores Individuais (MEIs).
    </p>

    <p>
        As guias de imposto devidas, vou fornecer um guia passo a passo sobre como gerá-las. Manter o pagamento dos impostos em dia garante sua cobertura pelo INSS e conta como tempo de contribuição. Importante que para obter qualquer benefício do INSS com o MEI, é necessário ter 12 meses pagos e sem nenhuma guia em atraso.
    </p>
</div>

<!-- Instruções Iniciais -->
<div id="instrucoes-iniciais" class="hidden-section">
    <button class="close-btn" onclick="toggleSection('instrucoes-iniciais')">Fechar</button>
    <h3>Instruções Iniciais para Abertura de MEI</h3>
    <p>
        Certifique-se de ter todos os documentos necessários e siga as etapas indicadas no formulário para uma abertura de MEI sem complicações.
    </p>
    <h4>🎯 O que é o MEI?</h4>
    <p>É o regime para quem fatura até R$ 81.000 por ano e quer trabalhar legalizado, mas sem complicações.</p>

    <h4>💼 Quem pode ser?</h4>
    <p>Pequenos empreendedores com atividades na lista permitida e apenas um empregado.</p>

    <h4>💰 Custo Mensal (DAS)</h4>
    <p>
        Comércio e Indústria: R$ 75,60<br>
        Serviços: R$ 71,00<br>
        Comércio e Serviços juntos: R$ 76,60<br>
        <strong>Valores até 12/2024</strong>
    </p>

    <h4>🏢 Alvará e Licença de Funcionamento</h4>
    <p>Não há necessidade devido à lei de liberdade econômica.</p>

    <h4>⏰ Prazos para Pagar</h4>
    <p>DAS: Até o dia 20 de cada mês.</p>

    <h4>📝 Obrigações e Declarações</h4>
    <p>
        Relatório Mensal de Receitas para auxiliar a declaração anual.<br>
        Declaração Anual (DASN-SIMEI): Até 31 de maio do ano seguinte.
    </p>

    <h4>👥 Funcionários</h4>
    <p>
        Máximo de 1 empregado.<br>
        Salário mínimo ou piso da categoria.
    </p>

    <h4>🛡️ Benefícios</h4>
    <p>
        Aposentadoria, auxílio-doença, licença-maternidade (depois de 12 meses).<br>
        Emissão de nota fiscal de serviço ou comércio.
    </p>

    <h4>🚀 Desvantagens</h4>
    <p>
        Limitação de faturamento e de quantidade de empregados.<br>
        Não pode ser sócio ou titular de outra empresa.<br>
        Havendo movimento, perde direito de receber seguro-desemprego e sacar o FGTS, caso seja empregado em outra empresa.
    </p>
</div>

<!-- Instruções GOV.BR -->
<div id="instrucoes-gov" class="hidden-section">
    <button class="close-btn" onclick="toggleSection('instrucoes-gov')">Fechar</button>
    <h3>Instruções para Níveis de Segurança da Senha GOV.BR</h3>

    <!-- Texto Atualizado para Instruções do GOV.BR -->
    <h4>🔐 Caso não lembre a senha da conta GOV.BR</h4>
    <p>
        Você vai precisar recuperar a conta GOV.BR se caso não lembrar a senha. Para isso, baixe o <strong>APP GOV.BR</strong> na Play Store e abra o APP. Vai pedir o CPF, digite e clique em continuar. Depois, clique em <strong>"ESQUECEU SUA SENHA"</strong> e siga o passo a passo no APP. Vai pedir para fazer reconhecimento facial, faça o procedimento e abrirá outra janela para colocar a nova senha. Será necessário que a conta seja de nível <strong>Prata</strong> ou <strong>Ouro</strong>, sendo necessário fazer validação facial ou acessar através dos bancos mostrados no aplicativo.
    </p>
    <p>
        Para baixar o APP GOV.BR, acesse: <a href="https://www.gov.br/governodigital/pt-br/identidade/assinatura-eletronica/baixar-app-govbr" target="_blank">Baixar APP GOV.BR</a>
    </p>

    <h4>🔒 Caso lembre a senha, mas o nível da conta é de nível Bronze</h4>
    <p><strong>IMPORTANTE: ATENÇÃO:</strong> CASO APAREÇA UMA MENSAGEM PARA FAZER VERIFICAÇÃO DE 2 ETAPAS, NÃO FAÇA, POIS NÃO VOU CONSEGUIR ACESSAR AQUI.</p>
    <p>Baixe o <strong>APP GOV.BR</strong> na Play Store e instale-o em seu dispositivo.</p>

    <h4>🔼 Para subir para o nível de segurança Prata ou Ouro, você precisará:</h4>
    <ol>
        <li>Baixe o <strong>APP GOV.BR</strong> na Play Store e instale-o em seu dispositivo.</li>
        <li>Fazer o login na sua conta gov.br;</li>
        <li>No menu “Início”, clicar na opção “Aumentar nível da conta”;</li>
        <li>Em seguida, você terá acesso às formas de validação disponíveis para seu perfil.</li>
    </ol>

    <h4>🌟 Nível Prata:</h4>
    <p>Essa modalidade inclui contas validadas por biometria facial da Carteira Nacional de Habilitação (CNH) e dados bancários para uso em serviços de internet banking ou em bancos credenciados.</p>
    <h5>Para se tornar o nível de segurança Prata, você poderá:</h5>
    <ol>
        <li>Realizar o reconhecimento facial usando o aplicativo gov.br no celular baseada na CNH;</li>
        <li>Confirmar os dados através da conta bancária.</li>
    </ol>

    <h4>🌟 Nível Ouro:</h4>
    <p>Essa modalidade inclui contas validadas por biometria facial do Tribunal Superior Eleitoral (TSE) e validação e autenticação compatível com as especificações da Infraestrutura de Chaves Públicas Brasileira (ICP-BRASIL).</p>
    <h5>Para se tornar nível de segurança Ouro, você poderá:</h5>
    <ol>
        <li>Validar a Biometria Facial no balcão do Tribunal Superior Eleitoral (TSE);</li>
        <li>Validar e Autenticar um certificado digital compatível com as especificações da Infraestrutura de Chaves Públicas Brasileira (ICP-BRASIL).</li>
    </ol>

    <h4>📹 Vídeos de Ajuda:</h4>
    <ul>
        <li><a href="https://www.youtube.com/shorts/yYenzyj9OPA" target="_blank">Como retirar a verificação em duas etapas do gov.Br</a></li>
        <li><a href="https://www.youtube.com/shorts/8Jt-Z9RtwpI" target="_blank">Como aumentar o nível da sua conta gov.br</a></li>
        <li><a href="https://www.youtube.com/shorts/81B6VAaCXJ0" target="_blank">Aprenda a mudar a senha do INSS / GOV.BR</a></li>
    </ul>
</div>

<script>
    // Função para alternar a visibilidade das seções de instruções e rolar para elas
    function toggleSection(id) {
        const section = document.getElementById(id);
        if (section.style.display === "block") {
            section.style.display = "none";
        } else {
            section.style.display = "block";
            // Rolar suavemente para a seção
            section.scrollIntoView({ behavior: 'smooth' });
        }
    }

    // Função para formatar CPF
    function formatarCPF(cpf) {
        cpf = cpf.replace(/\D/g, "");
        cpf = cpf.replace(/(\d{3})(\d)/, "$1.$2");
        cpf = cpf.replace(/(\d{3})(\d)/, "$1.$2");
        cpf = cpf.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
        return cpf;
    }

    // Função para validar CPF
    function validarCPF(cpf) {
        cpf = cpf.replace(/[^\d]+/g,'');
        if(cpf.length !== 11) return false;
        if (/^(\d)\1+$/.test(cpf)) return false;

        let soma = 0;
        for (let i = 0; i < 9; i++) soma += parseInt(cpf.charAt(i)) * (10 - i);
        let resto = 11 - (soma % 11);
        if (resto === 10 || resto === 11) resto = 0;
        if (resto !== parseInt(cpf.charAt(9))) return false;

        soma = 0;
        for (let i = 0; i < 10; i++) soma += parseInt(cpf.charAt(i)) * (11 - i);
        resto = 11 - (soma % 11);
        if (resto === 10 || resto === 11) resto = 0;
        if (resto !== parseInt(cpf.charAt(10))) return false;

        return true;
    }

    // Função para exibir mensagens de erro
    function exibirErro(elementId, mensagem) {
        document.getElementById(elementId).innerText = mensagem;
    }

    // Função para limpar mensagens de erro
    function limparErro(elementId) {
        document.getElementById(elementId).innerText = '';
    }

    // Validação do CPF no evento blur
    document.getElementById('cpf').addEventListener('blur', function() {
        let cpf = this.value;
        cpf = cpf.replace(/\D/g, '');
        this.value = formatarCPF(cpf);
        if (cpf.length > 0 && !validarCPF(cpf)) {
            exibirErro('cpf-error', 'CPF inválido.');
        } else {
            limparErro('cpf-error');
        }
    });

    // Função para buscar endereço pelo CEP usando ViaCEP
    async function buscarCEP(cep) {
        try {
            const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
            const data = await response.json();
            if (data.erro) {
                exibirErro('cep-error', 'CEP não encontrado.');
                return;
            }
            // Preencher os campos de endereço, bairro, cidade e estado
            document.getElementById('endereco').value = data.logradouro.toUpperCase();
            document.getElementById('bairro').value = data.bairro.toUpperCase();
            document.getElementById('cidade').value = data.localidade.toUpperCase();
            document.getElementById('estado').value = data.uf.toUpperCase();
            limparErro('cep-error');
        } catch (error) {
            exibirErro('cep-error', 'Erro ao buscar CEP.');
            console.error('Erro ao buscar CEP:', error);
        }
    }

    // Validação do CEP no evento blur
    document.getElementById('cep').addEventListener('blur', function() {
        const cep = this.value.replace(/\D/g, '');
        if (cep.length !== 8) {
            exibirErro('cep-error', 'CEP inválido.');
            return;
        }
        buscarCEP(cep);
    });

    // Event listener para enviar via WhatsApp
    document.getElementById('enviar').addEventListener('click', function() {
        // Verificar se há mensagens de erro
        const cpfErro = document.getElementById('cpf-error').innerText;
        const cepErro = document.getElementById('cep-error').innerText;
        if (cpfErro || cepErro) {
            alert('Por favor, corrija os erros no formulário antes de enviar.');
            return;
        }

        // Verificar campos obrigatórios
        const camposObrigatorios = ['nome_completo', 'data_nascimento', 'rg', 'cpf', 'titulo_eleitor', 'cep', 'endereco', 'bairro', 'cidade', 'estado', 'numero', 'senha_gov', 'email', 'celular', 'atividade'];
        for (let campo of camposObrigatorios) {
            if (!document.getElementById(campo).value.trim()) {
                alert('Por favor, preencha todos os campos obrigatórios.');
                return;
            }
        }

        // Coletar dados do formulário
        const form = document.getElementById('formulario');
        const formData = new FormData(form);

        // Montar mensagem
        let mensagem = `*Formulário de Abertura de MEI*\n\n`;
        mensagem += `*Nome Completo:* ${formData.get('nome_completo')}\n`;
        mensagem += `*Data de Nascimento:* ${formData.get('data_nascimento')}\n`;
        mensagem += `*RG:* ${formData.get('rg')}\n`;
        mensagem += `*CPF:* ${formData.get('cpf')}\n`;
        mensagem += `*Título de Eleitor:* ${formData.get('titulo_eleitor')}\n`;
        mensagem += `*CEP:* ${formData.get('cep')}\n`;
        mensagem += `*Endereço:* ${formData.get('endereco')}, ${formData.get('numero')}\n`;
        mensagem += `*Bairro:* ${formData.get('bairro')}\n`;
        mensagem += `*Cidade:* ${formData.get('cidade')}\n`;
        mensagem += `*Estado:* ${formData.get('estado')}\n`;
        mensagem += `*Complemento:* ${formData.get('complemento') || 'Não informado'}\n`;
        mensagem += `*Senha GOV.BR:* ${formData.get('senha_gov')}\n`;
        mensagem += `*E-mail:* ${formData.get('email')}\n`;
        mensagem += `*Celular:* ${formData.get('celular')}\n`;
        mensagem += `*Número do Recibo IR:* ${formData.get('recibo_ir') || 'Não informado'}\n`;
        mensagem += `*Atividade:* ${formData.get('atividade')}\n`;
        
        // Campos opcionais de atividade
        const atividadesOpcionais = ['atividade2', 'atividade3', 'atividade4', 'atividade5'];
        atividadesOpcionais.forEach(function(campo) {
            const valor = formData.get(campo);
            if (valor) {
                mensagem += `*Atividade Opcional:* ${valor}\n`;
            }
        });

        // Número de WhatsApp para envio (substitua pelo seu número)
        const numeroWhatsApp = '55996636737'; // Exemplo: 55 + DDD + Número

        const url = `https://wa.me/${numeroWhatsApp}/?text=${encodeURIComponent(mensagem)}`;

        window.open(url, '_blank');
    });
</script>

</body>
</html>
